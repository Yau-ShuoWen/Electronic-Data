# 字符串智能排序系统

## 背景介绍

说文在写了一个字典系统之后，需要一种简洁的方式对结果排序。例如，当用户在搜索框中输入"app"时，系统需要从
`["apple", "application", "apricot", "banana", "app"]`这些候选项中，找出与查询词最相关的结果并排序展示。

## 问题描述

你需要设计一个字符串排序系统，根据以下规则对字符串列表进行排序：

给定n个字符串和一个查询字符串query，为每个字符串计算两个指标：

1. **整体相似度（similarity）**：反映两个字符串的结构相似性，计算公式为：
   ```
   S = 2 × 公共部分长度 ÷ (字符串A长度 + 字符串B长度)
   ```

2. **查询匹配度（matching）**：反映查询字符串在目标字符串中的覆盖程度，计算公式为：
   ```
   M = 公共部分长度 ÷ 查询字符串长度
   ```

3. 这里的"公共部分"指的是两个字符串中可以不连续但保持相对顺序的最长相同字符序列。

系统还提供了两个可调节的参数：

- 相似度系数`a`：控制整体相似度的权重
- 匹配度系数`b`：控制查询匹配度的权重

最终的排序依据是**综合评分**：

```
综合评分 = a × S + b × M
```

## 输入格式

第一行包含三个值：

- 整数n（1 ≤ n ≤ 1000）：待排序字符串的数量
- 浮点数a（0 ≤ a ≤ 10）：相似度系数
- 浮点数b（0 ≤ b ≤ 10）：匹配度系数

接下来n行，每行一个字符串，表示待排序的字符串列表。

最后一行是一个查询字符串。

所有字符串由大小写字母和数字组成，长度不超过100。

## 输出格式

将字符串按照综合评分从高到低排序后输出。 如果两个字符串的综合评分相同，则保持它们原来的相对顺序。

## 示例分析

假设输入为：

```
5 1.0 1.0
apple
application
apricot
banana
app
app
```

让我们手动计算"apple"和查询词"app"的关系：

1. 找出"apple"和"app"的公共部分：
    - 可以匹配"a","p","p"这三个字符
    - 公共部分长度为3

2. 计算整体相似度S：
    - S = 2 × 3 ÷ (5 + 3) = 6 ÷ 8 = 0.75

3. 计算查询匹配度M：
    - M = 3 ÷ 3 = 1.0

4. 计算综合评分：
    - 综合评分 = 1.0 × 0.75 + 1.0 × 1.0 = 1.75

同理，对于"app"本身：

- 公共部分就是"app"，长度3
- S = 2 × 3 ÷ (3 + 3) = 1.0
- M = 3 ÷ 3 = 1.0
- 综合评分 = 1.0 × 1.0 + 1.0 × 1.0 = 2.0

## 样例输入输出

### 输入

```
5 1 1
apple
application
apricot
banana
app
app
```

### 输出

```
app
apple
application
apricot
banana
```

## 数据范围

- n ≤ 1000
- 字符串长度 ≤ 100
- 0 ≤ a, b ≤ 10，且a和b不同时为0
- 所有计算使用双精度浮点数，输出保留4位小数

## 注意

1. 查询字符串可能为空，此时所有字符串的匹配度M为1.0
2. 目标字符串可能为空，需要特殊处理
3. 公共部分的查找需要考虑字符的相对顺序
4. 排序时需要保持相同评分元素的原始顺序

```latex

```